{% extends 'base.html' %}
{% load static %}

{% block meta %}
<title>{{ product.description }} - Football Bidding</title>
{% endblock meta %}

{% block content %}
<div class="relative w-full min-h-screen bg-gradient-to-b from-gray-950 via-black to-gray-900 text-white">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-10 relative z-10">

    <!-- Back Navigation -->
    <div class="mb-6">
      <a href="{% url 'main:show_main' %}" 
         class="inline-flex items-center text-sm font-medium text-gray-300 hover:text-green-400 transition-colors">
        ← Back to Product
      </a>
    </div>

    <!-- Article Card -->
    <article 
      class="rounded-lg overflow-hidden border transition-all duration-500 transform hover:scale-[1.01]
        {% if product.category == 'misc' %}
          bg-gray-900 border-fuchsia-700/40 hover:shadow-[0_0_18px_rgba(236,72,153,0.6)]
        {% elif product.category == 'historic' %}
          bg-gray-900 border-green-600/40 hover:shadow-[0_0_18px_rgba(34,197,94,0.6)]
        {% elif product.category == 'exclusive' %}
          bg-gray-900 border-yellow-600/40 hover:shadow-[0_0_25px_rgba(234,179,8,1)]
        {% else %}
          bg-gray-900 border-gray-600/40 hover:shadow-[0_0_15px_rgba(255,255,255,0.3)]
        {% endif %}
        animate-fade-in">

      <!-- Header -->
      <div class="p-6 sm:p-10">
        <div class="flex flex-wrap items-center gap-2 mb-4">
          <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold uppercase tracking-wide 
            {% if product.category == 'misc' %}
              bg-fuchsia-600 text-white
            {% elif product.category == 'historic' %}
              bg-green-600 text-white
            {% elif product.category == 'exclusive' %}
              bg-yellow-500 text-black
            {% else %}
              bg-gray-500 text-white
            {% endif %}
          ">
            {{ product.get_category_display }}
          </span>

          {% if product.is_featured %}
            <span class="px-3 py-1 rounded-full text-xs font-semibold bg-yellow-200 text-yellow-800">⭐ Featured</span>
          {% endif %}
          {% if product.is_product_hot %}
            <span class="px-3 py-1 rounded-full text-xs font-semibold bg-red-500 text-white animate-pulse">🔥 Hot</span>
          {% endif %}
        </div>

        <h1 class="text-3xl sm:text-4xl font-extrabold leading-tight mb-4 text-white">
          {{ product.description }}
        </h1>

        <div class="flex flex-wrap items-center text-sm text-gray-400 gap-4">
          <time datetime="{{ product.created_at|date:'c' }}">
            📅 {{ product.created_at|date:"M j, Y g:i A" }}
          </time>
          <span>👁 {{ product.views }} views</span>
        </div>
      </div>

      <!-- Featured Image -->
      {% if product.thumbnail %}
        <div class="px-6 sm:px-10">
          <img src="{{ product.thumbnail }}" 
               alt="{{ product.description }}" 
               class="w-full h-72 sm:h-96 lg:h-[28rem] object-cover rounded-lg transform transition duration-700 hover:scale-105 hover:rotate-1 shadow-lg">
        </div>
      {% endif %}

      <!-- Content -->
      <div class="p-6 sm:p-10">
        <div class="text-gray-200 leading-relaxed whitespace-pre-line text-base sm:text-lg animate-slide-up">
          {{ product.description }}
        </div>
      </div>

      <!-- Author Info -->
      <div class="border-t border-gray-700 p-6 sm:p-10 bg-gradient-to-r from-gray-800/60 to-gray-900/60">
        <div class="flex items-center justify-between">
          <div>
            <p class="font-semibold text-white">
              {% if product.user %}
                🖊 Author: {{ product.user.username }}
              {% else %}
                🖊 Author: Anonymous
              {% endif %}
            </p>
            <p class="text-sm text-gray-400">Published contributor</p>
          </div>
        </div>
      </div>
    </article>
  </div>
</div>

<!-- Animations -->
<style>
@keyframes fade-in { from {opacity:0; transform:translateY(20px);} to {opacity:1; transform:translateY(0);} }
.animate-fade-in { animation: fade-in 1s ease-out forwards; }

@keyframes slide-up { from {opacity:0; transform:translateY(40px);} to {opacity:1; transform:translateY(0);} }
.animate-slide-up { animation: slide-up 1.3s ease-out forwards; }
</style>
{% endblock content %}
